# Comparison: New Fee Payment API vs. SFTI CA Payment API

This document compares the new draft entity model for the Fee Payment API with the field structure of the existing SFTI CA Payment API. It highlights similarities, differences, and structural mappings between both models.

---

## 🔁 Field Mapping Table

| Entity        | Field (New API)        | Path in New API                                                 | Field (SFTI)                     | Path in SFTI                                              | Comment                                                                 |
|---------------|------------------------|-----------------------------------------------------------------|----------------------------------|-----------------------------------------------------------|-------------------------------------------------------------------------|
| PaymentOrder  | paymentOrderId         | paymentOrder > paymentOrderId                                   | SFTI: bulkId / not defined       | n/a                                                       | New field in your model, SFTI does not define this at bulk level       |
| PaymentOrder  | creationDate           | paymentOrder > creationDate                                     | Not explicitly defined           | n/a                                                       | Implied by transaction timestamps in SFTI                              |
| PaymentOrder  | status                 | paymentOrder > status                                           | Not defined                      | n/a                                                       | Handled implicitly or outside SFTI spec                                |
| AssetManager  | amId                   | paymentOrder > assetManager > amId                              | institutionId (bank-specific)    | transaction > creditor > institutionId (bank-specific)    | Your amId is generalized for LEI/UID; SFTI uses bank-specific IDs      |
| AssetManager  | amName                 | paymentOrder > assetManager > amName                            | institutionName                  | transaction > creditor/debitor > institutionName          | Equivalent                                                              |
| AssetManager  | amLocation             | paymentOrder > assetManager > amLocation                        | institutionLocation              | transaction > creditor/debitor > institutionLocation      | Equivalent                                                              |
| Transaction   | transactionId          | paymentOrder > transactions[] > transactionId                   | externalReferenceNumber          | transaction > details > externalReferenceNumber           | Similar concept – optional in SFTI                                     |
| Transaction   | details                | paymentOrder > transactions[] > details                         | Details                          | transaction > details                                     | Mapped 1:1                                                              |
| Transaction   | creditor               | paymentOrder > transactions[] > creditor                        | Creditor                         | transaction > creditor                                     | Mapped 1:1                                                              |
| Transaction   | debtor                 | paymentOrder > transactions[] > debtor                          | Debitor                          | transaction > debitor                                      | Mapped 1:1                                                              |
| Transaction   | amount                 | paymentOrder > transactions[] > amount                          | currency / currencyAmount        | transaction > details > currency / currencyAmount         | Mapped 1:1                                                              |
| Details       | externalRef            | paymentOrder > transactions[] > details > externalRef           | externalReferenceNumber          | transaction > details > externalReferenceNumber           | Equivalent                                                              |
| Details       | type                   | paymentOrder > transactions[] > details > type                  | transactionType                  | transaction > details > transactionType                   | Equivalent                                                              |
| Details       | bookingTextCreditor    | paymentOrder > transactions[] > details > bookingTextCreditor   | bookingTextCreditor              | transaction > details > bookingTextCreditor              | Equivalent                                                              |
| Details       | bookingTextDebitor     | paymentOrder > transactions[] > details > bookingTextDebitor    | bookingTextDebitor               | transaction > details > bookingTextDebitor               | Equivalent                                                              |
| Details       | reasonCreditor         | paymentOrder > transactions[] > details > reasonCreditor        | transactionReasonCreditor        | transaction > details > transactionReasonCreditor        | Equivalent                                                              |
| Details       | reasonDebtor           | paymentOrder > transactions[] > details > reasonDebtor          | transactionReasonDebitor         | transaction > details > transactionReasonDebitor         | Equivalent                                                              |
| Details       | valueDate              | paymentOrder > transactions[] > details > valueDate             | valueDate                        | transaction > details > valueDate                         | Equivalent                                                              |
| Details       | executionDate          | paymentOrder > transactions[] > details > executionDate         | executionDate                    | transaction > details > executionDate                     | Equivalent                                                              |
| Details       | performanceRelevant    | paymentOrder > transactions[] > details > performanceRelevant   | performanceRelevance             | transaction > details > performanceRelevance              | Equivalent                                                              |
| Details       | statementOption        | paymentOrder > transactions[] > details > statementOption       | statementOption                  | transaction > details > statementOption                   | Equivalent                                                              |
| Details       | nameClientInStatement  | paymentOrder > transactions[] > details > nameClientInStatement | namingClient                     | transaction > details > namingClient                      | Equivalent                                                              |
| Creditor      | creditorName           | paymentOrder > transactions[] > creditor > creditorName         | institutionName                  | transaction > creditor > institutionName                  | Equivalent                                                              |
| Creditor      | creditorLocation       | paymentOrder > transactions[] > creditor > creditorLocation     | institutionLocation              | transaction > creditor > institutionLocation              | Equivalent                                                              |
| Debtor        | debtorName             | paymentOrder > transactions[] > debtor > debtorName             | debitorName                      | transaction > debitor > debitorName                       | Equivalent                                                              |
| Debtor        | debtorIban             | paymentOrder > transactions[] > debtor > debtorIban             | debitorIban                      | transaction > debitor > debitorIban                       | Equivalent                                                              |
| Debtor        | debtorAccountRef       | paymentOrder > transactions[] > debtor > debtorAccountRef       | debitorAccount                   | transaction > debitor > debitorAccount                    | Equivalent                                                              |
| Amount        | currency               | paymentOrder > transactions[] > amount > currency               | currency                         | transaction > details > currency                          | Equivalent                                                              |
| Amount        | amount                 | paymentOrder > transactions[] > amount > amount                 | currencyAmount                   | transaction > details > currencyAmount                    | Equivalent                                                              |
| (Removed)     | bulk                   | (removed field)                                                 | bulk                             | paymentOrder > bulk                                       | Excluded intentionally – causes reconciliation and transparency issues |

---

📘 **Note**: The SFTI model focuses primarily on transaction-level fields and does not explicitly define a PaymentOrder or AssetManager entity. These have been introduced in the new model for structure, traceability, and STP readiness.
